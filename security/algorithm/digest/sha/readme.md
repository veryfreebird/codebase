source: https://www.cnblogs.com/jake9402/p/7801969.html

图中A-H哈希的8个分组，每次循环从旧的中产生新的，一共得循环多少次呢？

　　　　主循环次数 = 消息长度/1024

　　　　每次主循环中又保存80次子循环

　　　　上图就是表达了单次子循环的流程

　　　　主要操作：
        参考 SHA_operations.png
　　　　　　　　>>>表示循环右移

　　　　　　　　田：加法

　　　　　　　　对应C语言表达式子:

　　　　　　　　　　#define Ch( x, y, z )     (z ^ (x & (y ^ z)))
　　　　　　　　　　#define Maj(x, y, z )     (((x | y) & z) | (x & y))
　　　　　　　　　　#define S( x, n )         ROR64( x, n )
　　　　　　　　　　#define R( x, n )         (((x)&0xFFFFFFFFFFFFFFFFULL)>>((unsigned long long)n))
　　　　　　　　　　#define Sigma0( x )       (S(x, 28) ^ S(x, 34) ^ S(x, 39))
　　　　　　　　　　#define Sigma1( x )       (S(x, 14) ^ S(x, 18) ^ S(x, 41))
　　　　　　　　　　#define Gamma0( x )       (S(x, 1) ^ S(x, 8) ^ R(x, 7))
　　　　　　　　　　#define Gamma1( x )       (S(x, 19) ^ S(x, 61) ^ R(x, 6))

　　　　　　W，K是两个常量

　　　　　　其中W是计算出的，具体计算看代码。

　　　　　　K：预先给出的80个常量

　　　　　　相信大家有了上图后已经明白了核心操作。要是还不明白建议根据附录中的代码进一步理解。　　　　

　　　　四、拼接结果

　　　　　　将最后的8个常量一次拼接则得到结果。



[root@myfedora sha]# ./sha512c
输入字符串的十六进制: 0x6a61636b

填充后(1024bits):
0x6a61636b80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020

A:                                                      2189198374
B:                                                       966476520
C:                                                      1788912408
D:                                                      1190732813
E:                                                       950660538
F:                                                      1956813218
G:                                                      2801023558
H:                                                       301021721


加密前:jack
加密后128位:77c62ff676394d2e1962c6f7be65ea23b5650a3e69359b4337f9dc4ea6165afec4787529e690708b1a8c9fb89fe105c151838a9ea235

[root@myfedora sha]# sha512sum
jack

77c62ff676394d2e1962c6f7be65ea23b5650a3e69359b4337f9dc4ea6165afec4787529e690708b1a8c9fb89fe105c151838a9ea235f7b1763982f6256f5b92  -
